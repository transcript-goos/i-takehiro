apply {
    plugin 'java'
    plugin 'eclipse'
}

defaultTasks 'clean'

def jdkVersion = 1.7
def encoding = 'UTF-8'

sourceCompatibility = jdkVersion
targetCompatibility = jdkVersion

[compileJava,compileTestJava].each{ it.options.encoding = encoding }
compileJava.options.compilerArgs = ['-Xlint:all', '-Xmaxwarns', '9999']

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'junit:junit-dep:4.10'
    testCompile 'org.hamcrest:hamcrest-core:1.3'
    testCompile 'org.hamcrest:hamcrest-library:1.3'
    testCompile 'com.googlecode.windowlicker:windowlicker-swing:r268'
}

task "create-init-dirs" << {
   sourceSets*.java.srcDirs*.each { it.mkdirs() }
   sourceSets*.resources.srcDirs*.each { it.mkdirs() }
}